name: "nix-config"

packages:
  - cargo
  - doppler
  - gcc
  - git
  - home-manager
  - jq
  - niv
  - pre-commit
  - shellcheck
  - wget

aliases:
  update-all: |
    find -L "$(pwd)/" -type f -name "update-sources.sh" | while read -r updatescript; do ( dir="$(dirname -- "$updatescript")"; cd "$dir" || exit; $updatescript ); done

env:
  PRE_COMMIT_COLOR: "never"
  SHELLCHECK_OPTS: "-e SC1008"

run: |
  [[ -f .git/hooks/pre-commit ]] || pre-commit install --install-hooks
